---
interface Props {
  title: string;
}

const { title } = Astro.props;
const isProd = import.meta.env.PROD;

// Format current date for footer
const now = new Date();
const formattedDate = now.toLocaleDateString('en-US', {
  weekday: 'long',
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>{title}</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <meta name="generator" content={Astro.generator}>
    {isProd ? (
      <meta name="robots" content="INDEX, FOLLOW">
    ) : (
      <meta name="robots" content="NOINDEX, NOFOLLOW">
    )}
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400i,500,800" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:200,400,400i,600,900" rel="stylesheet">
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
  </head>
  <body class="ma0">
    <div class="grid-layout-1">
      <main class="main" role="main" id="mainContent">
        <slot />
        <div id="drawing"></div>
      </main>
      <footer class="-m-auto -border-top -em-08 -lineheight-1-3 footer -text-left">
        <div class="-text-center -print-hidden">
          <a href="jan-trejbal.pdf" class="download" target="_blank">
            <span class="download-icon"></span> Download this as a pdf
          </a>
        </div>
        <em class="-clearfix -text-center lastpublished -em-07">
          Last Published {formattedDate}.
        </em>
      </footer>
    </div>
  </body>
</html>

<style is:global>
  @import '../styles/belmu.css';
  @import '../styles/main.css';
  @import '../styles/custom.css';
  @import '../styles/print.css' print;
</style>
